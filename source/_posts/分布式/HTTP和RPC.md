---
title: HTTP和RPC
categories: 
- 分布式
---

**传输协议**

RPC，可以基于TCP协议，也可以基于HTTP协议。

HTTP，基于HTTP协议。

**传输效率**

RPC，使用自定义的TCP协议，可以让请求报⽂体积更小，或者使用HTTP2协议，也可以很好的减少报文的体积，提高传输效率。

HTTP，如果是基于HTTP1.1的协议，请求中会包含很多无用的内容。

**性能消耗**

主要在于序列化和反序列化的耗时。

RPC，可以基于thrift实现高效的二进制传输。

HTTP，大部分是通过json来实现的，字节大小和序列化耗时都比thrift要更消耗性能。

**负载均衡**

RPC，基本都自带了负载均衡策略。

HTTP，需要配置Nginx，HAProxy来实现。

RPC主要用于公司内部的服务调用，性能消耗低，传输效率高，服务治理方便。

HTTP主要用于对外的异构环境，浏览器接口调用，APP接口调用，第三方接口调用等。