---
title: 范式
categories: 
- 高性能MySQL
---

各种范式呈递次规范，越高的范式数据库冗余越小。

> 通常所用到的只是前三个范式

**第一范式：所有属性都是不可分割的原子值**

也就是每个属性都是不可再分的

如果在实际场景中，一个联系人有家庭电话和公司电话，那么以"姓名、性别、电话"为表头的表结构就没有达到 1NF。

> 要符合 1NF 我们只需把电话列拆分，让表头变为姓名、性别、家庭电话、公司电话即可。

**第二范式：**

第二范式属性完全依赖于主键，首先要满足它符合 1NF，另外还需要包含两部分内容：

* 表必须有一个主键；

* 没有包含在主键中的列必须完全依赖于主键，而不能只依赖于主键的一部分。

即要求实体的属性完全依赖于主关键字。所谓完全依赖是指不能存在仅依赖主关键字一部分的属性。

**第三范式：**

第三范式属性不传递依赖于其他非主属性，首先需要满足 2NF，另外非主键列必须直接依赖于主键，不能存在传递依赖。

> 即不能存在：非主键列 A 依赖于非主键列 B，非主键列 B 依赖于主键的情况。

例如，有一个学生表中包含了：学生 ID、姓名、所在学院 ID、学院电话、学院地址等字段。

这个表的所有字段（除去主键字段）都完全依赖唯一的主键字段（学生 ID），所以符合第二范式。

* 但它存在一个问题，学院电话、学院地址依赖非主键字段学院 ID，而不是直接依赖于主键，它是通过传递才依赖于主键，所以不符合第三范式。

我们可以把学生表分为两张表，一张是学生表包含了：学生 ID、姓名、所在学院 ID 等字段；

另一张为学院表包含了：学院 ID、学院电话、学院地址等字段，这样就满足第三范式的要求了。

![](https://img-blog.csdnimg.cn/0affa8c117e54fe586ddf6394891f9ca.png)

**范式具备以下优点：**

* 避免数据冗余，减少维护数据完整性的麻烦；

* 减少数据库的空间；

* 数据变更速度快。

**同时，也有如下缺点：**

* 按照范式的规范设计的表，等级越高的范式设计出来的表数量越多。

* 获取数据时，表关联过多，性能较差。

* 表的数量越多，查询所需要的时间越多。也就是说所用的范式越高，对数据操作的性能越低。 

**反范式设计**

* 就是用空间来换取时间，提高业务场景的响应时间，减少多表关联。

* 允许适当的数据冗余，业务场景中需要的数据几乎都可以在一张表上显示，避免关联；