---
title: 系统管理
categories: 
- 鸟哥的Linux私房菜
---

# 进程管理

查看进程：

```powershell
ps aux
ps -le
```

查看进程树：

```cpp
pstree 
pstree -p // 查看每个进程的id号，会展开折叠进程
pstree -u // 查看进程的用户
```

**杀死进程**

查看信号：

```bash
kill -l
```

| 信号代号 | 信号名称 | 说明                                                         |
| -------- | -------- | ------------------------------------------------------------ |
| 1        | SIGHUP   | 该信号让进程立即关闭，然后重新读取配置文件之后重启。         |
| 2        | SIGINT   | 程序终止信号，用于终止前台进程。相当于输出ctrl+c快捷键       |
| 8        | SIGFPE   | 在发生致命的算数运算错误时发出，不仅包括浮点运算错误，还包括溢出及除数为0等其它所有的算术的错误 |
| 9        | SIGKILL  | 用来立即结束程序的运行，本信号不恩那个被阻塞、处理和忽略。一般用于强制终止进程 |
| 14       | SIGALRM  | 时钟定时信号，计算的是实际的时间或始终时间，alarm函数使用该信号。 |
| 15       | SIGTERM  | 正常结束进程的信号，kill命令的默认信号。有时如果进程已经发生问题，这个信号是无法正常终止进程的，我们才会尝试SIGKILL信号，也就是信号9. |
| 18       | SIGCONT  | 该信号可以让暂停的进程恢复执行，本信号不能被阻断。           |
| 19       | SIGSTOP  | 该信号可以暂停前台进程，相当于输入ctrl+z快捷键。本信号不能被阻断。 |

**修改进程优先级**

先使用ps查看进程，可以看到PRI和NI两个属性。

进程的优先级由PRI和NI共同作用，但是PRI值不可修改，可以修改NI的值，实际生效的是PRI值。值越小，优先级越高。

# 工作管理

**有两种方法把进程放入后台：**

- `+&`: 放入后台执行
- `ctrl + z`: 放在后台暂停

使用`jobs`命令可以查看后台工作，加`-l`参数显示工作的PID。

# 查看系统资源

**vmstat**

监听系统资源:

```less
vmstat [刷新延时 刷新次数]
vmstat 1 3  //每1秒刷新一次，总共刷新3秒
```

**dmesg**

查看内核信息:

```perl
dmesg
dmesg | grep CPU
```

**free**

查看内存使用状态

**uptime**

查看登录信息，相当于top命令第一行。

**uname**

查看系统与内核相关的信息。

**lsof**

列出进程调用或打开的文件的信息。

# 系统定时任务

**at一次性定时任务**

**crontab循环定时任务**

**anacron配置**

* anacron的作用是在系统恢复后，执行故障中未执行的定时任务。